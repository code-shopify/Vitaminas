{% comment %}
  SECCIÓN: Foot (iconos + texto con efecto marquee en móvil)
{% endcomment %}

<div class="foot-section container">
  {% if section.settings.section_title != blank %}
    <h2 class="text-center mb-4">{{ section.settings.section_title }}</h2>
  {% endif %}

  <div class="row">
    <div class="col-12 marquee">
      {% for block in section.blocks %}
        <div class="icon-text-block d-flex align-items-center">
          {% if block.settings.icon != blank %}
            <img 
              src="{{ block.settings.icon | img_url: '100x' }}" 
              alt="{{ block.settings.text | escape }}" 
              class="icon me-2"
              style="max-width: 40px;"
            />
          {% endif %}
          <span class="text">{{ block.settings.text }}</span>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

<style>
  /* Contenedor general */
  .foot-section .marquee {
    display: flex;
    gap: 2rem;
    overflow: hidden; /* Importante para el efecto en móvil */
    white-space: nowrap;
  }

  .foot-section .icon-text-block {
    flex-shrink: 0; /* Para que no se reduzcan */
  }

  /* Efecto "marquee" solo en móviles */
  @media (max-width: 767px) {
    .foot-section .marquee {
      animation: marquee-scroll 15s linear infinite;
    }

    @keyframes marquee-scroll {
      0%   { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }
  }
</style>

{% schema %}
{
  "name": "foot",
  "settings": [
    {
      "type": "text",
      "id": "section_title",
      "label": "Título de la sección",
      "default": "Nuestras ventajas"
    }
  ],
  "blocks": [
    {
      "type": "icon_text_block",
      "name": "Bloque icono + texto",
      "settings": [
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icono"
        },
        {
          "type": "text",
          "id": "text",
          "label": "Texto"
        }
      ]
    }
  ],
  "max_blocks": 999,
  "presets": [
    {
      "name": "foot",
      "category": "Custom"
    }
  ]
}
{% endschema %}
