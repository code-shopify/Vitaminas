{% schema %}
{
  "name": "Sección de Iconos",
  "settings": [
    {
      "type": "color",
      "id": "background_color",
      "label": "Color de fondo",
      "default": "#DDE066"
    },
    {
      "type": "range",
      "id": "icon_size",
      "label": "Tamaño de iconos (px)",
      "min": 30,
      "max": 100,
      "step": 5,
      "default": 50
    }
  ],
  "blocks": [
    {
      "type": "icon",
      "name": "Icono",
      "settings": [
        {
          "type": "image_picker",
          "id": "icon_image",
          "label": "Imagen del icono"
        },
        {
          "type": "text",
          "id": "icon_text",
          "label": "Texto del icono",
          "default": "Sin gluten"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Sección de Iconos",
      "category": "Custom"
    }
  ]
}
{% endschema %}

<style>
  .icon-section {
    background-color: {{ section.settings.background_color }};
    padding: 10px 0;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
  }
  .icon-container {
    text-align: center;
    font-size: 14px;
    font-weight: bold;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .icon-container img {
    width: {{ section.settings.icon_size }}px;
    height: auto;
  }
</style>

<div class="icon-section">
  {% for block in section.blocks %}
    <div class="icon-container">
      {% if block.settings.icon_image != blank %}
        <img src="{{ block.settings.icon_image | img_url: '100x' }}" alt="{{ block.settings.icon_text }}">
      {% endif %}
      <p>{{ block.settings.icon_text }}</p>
    </div>
  {% endfor %}
</div>

