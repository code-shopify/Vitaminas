<div
  class="t4s-section-inner contenedor vitatu-section shadow mb-3 d-flex align-items-center justify-content-center"
  style="background-color: {{ section.settings.background_color }}; padding: 30px 0;"
>
  <div class="container">
    <div class="row justify-content-center align-items-center text-center">

      {% assign has_content = false %}

      {% for i in (1..6) %}
        {% assign image_key = 'icon_' | append: i | append: '_image' %}
        {% assign text_key = 'icon_' | append: i | append: '_text' %}
        {% assign image = section.settings[image_key] %}
        {% assign text = section.settings[text_key] %}

        <!-- Si el usuario no ha editado el texto, usamos valores predeterminados -->
        {% if text == blank %}
          {% case i %}
            {% when 1 %} {% assign text = "Sin Saborizantes Artificiales" %}
            {% when 2 %} {% assign text = "Sin L치cteos" %}
            {% when 3 %} {% assign text = "Sin Soya" %}
            {% when 4 %} {% assign text = "Sin Gluten" %}
            {% when 5 %} {% assign text = "Sin Colorantes" %}
            {% when 6 %} {% assign text = "Sin Endulzantes Artificiales" %}
          {% endcase %}
        {% endif %}

        {% if image != blank or text != blank %}
          {% assign has_content = true %}
          <div class="col-6 col-md-2 d-flex flex-column justify-content-center align-items-center icon-block">
            {% if image != blank %}
              <img src="{{ image | img_url: 'auto' }}" class="img-fluid mb-2 icon-img" alt="{{ text }}">
            {% endif %}
            <div class="d-flex align-items-center text-center icon-text-container">
              <p class="fw-bold icon-text" style="color: {{ section.settings.text_color }};">{{ text }}</p>
            </div>
          </div>
        {% endif %}
      {% endfor %}

      {% unless has_content %}
        <p class="text-center fw-bold" style="color: {{ section.settings.text_color }};">游댒 Agrega iconos desde el editor de temas.</p>
      {% endunless %}

    </div>
  </div>
</div>

{% style %}
  /* Asegurar que el contenido no se salga de la secci칩n */
  .contenedor {
    max-width: 100%;
    overflow: hidden;
    padding: 20px 0;
    text-align: center;
  }

  /* Asegurar que los iconos y textos est칠n bien alineados */
  .icon-block {
    display: flex;
    flex-direction: column;
    text-align: center;
    justify-content: center;
    align-items: center;
    width: 100%;
  }

  /* Contenedor que mantiene el texto centrado verticalmente */
  .icon-text-container {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%; /* Se asegura de que ocupe toda la altura disponible */
  }

  /* Tama침o adaptable de iconos */
  .icon-img {
    max-width: 80px; /* Ajuste autom치tico */
    height: auto;
  }

  /* Corregir alineaci칩n del texto y hacer editable */
  .icon-text {
    font-size: clamp(12px, 1.5vw, 18px); /* Escalado seg칰n tama침o de pantalla */
    text-align: center;
    margin-top: 5px;
    word-wrap: normal; /* Evita el texto en vertical */
    max-width: 100%;
    display: inline-block;
  }

  @media (max-width: 767px) {
    .icon-img {
      max-width: 60px;
    }

    .icon-text {
      font-size: clamp(10px, 3vw, 16px);
    }
  }
{% endstyle %}

{% schema %}
{
  "name": "Secci칩n de Iconos",
  "settings": [
    {
      "type": "color",
      "id": "background_color",
      "label": "Color de fondo",
      "default": "#DDE066"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Color del texto",
      "default": "#000000"
    },
    {
      "type": "image_picker",
      "id": "icon_1_image",
      "label": "Primera Imagen"
    },
    {
      "type": "text",
      "id": "icon_1_text",
      "label": "Texto 1",
      "default": "Sin Saborizantes Artificiales"
    },
    {
      "type": "image_picker",
      "id": "icon_2_image",
      "label": "Segunda Imagen"
    },
    {
      "type": "text",
      "id": "icon_2_text",
      "label": "Texto 2",
      "default": "Sin L치cteos"
    },
    {
      "type": "image_picker",
      "id": "icon_3_image",
      "label": "Tercera Imagen"
    },
    {
      "type": "text",
      "id": "icon_3_text",
      "label": "Texto 3",
      "default": "Sin Soya"
    },
    {
      "type": "image_picker",
      "id": "icon_4_image",
      "label": "Cuarta Imagen"
    },
    {
      "type": "text",
      "id": "icon_4_text",
      "label": "Texto 4",
      "default": "Sin Gluten"
    },
    {
      "type": "image_picker",
      "id": "icon_5_image",
      "label": "Quinta Imagen"
    },
    {
      "type": "text",
      "id": "icon_5_text",
      "label": "Texto 5",
      "default": "Sin Colorantes"
    },
    {
      "type": "image_picker",
      "id": "icon_6_image",
      "label": "Sexta Imagen"
    },
    {
      "type": "text",
      "id": "icon_6_text",
      "label": "Texto 6",
      "default": "Sin Endulzantes Artificiales"
    }
  ],
  "presets": [
    {
      "name": "Secci칩n de Iconos",
      "category": "Custom"
    }
  ]
}
{% endschema %}

