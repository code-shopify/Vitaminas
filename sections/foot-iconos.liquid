<div
  class="t4s-section-inner contenedor vitatu-section align-items-center d-flex"
  style="background-color: {{ section.settings.background_color }}; overflow: hidden; height:77px;"
>
  <div class="container">

    <!-- Contenedor normal para escritorio -->
    <div class="d-flex justify-content-between align-items-center gap-4 marquee-desktop">
      {% for i in (1..6) %}
        {% assign image_key = 'icon_' | append: i | append: '_image' %}
        {% assign text_key = 'icon_' | append: i | append: '_text' %}
        {% assign image = section.settings[image_key] %}
        {% assign text = section.settings[text_key] %}

        {% if image != blank or text != blank %}
          <div class="d-flex align-items-center icon-block">
            {% if image != blank %}
              <img src="{{ image | img_url: 'auto' }}" class="img-fluid icon-img me-2" alt="{{ text }}">
            {% endif %}
            <p class="icon-text" style="color: {{ section.settings.text_color }};">
              {{ text }}
            </p>
          </div>
        {% endif %}
      {% endfor %}
    </div>

    <!-- Marquee solo para móviles -->
    <div class="marquee-mobile">
      <div class="marquee-content d-flex align-items-center">
        <div class="marquee-inner">
          {% for i in (1..6) %}
            {% assign image_key = 'icon_' | append: i | append: '_image' %}
            {% assign text_key = 'icon_' | append: i | append: '_text' %}
            {% assign image = section.settings[image_key] %}
            {% assign text = section.settings[text_key] %}

            {% if image != blank or text != blank %}
              <div class="d-flex align-items-center icon-block">
                {% if image != blank %}
                  <img src="{{ image | img_url: 'auto' }}" class="img-fluid icon-img me-2" alt="{{ text }}">
                {% endif %}
                <p class="icon-text" style="color: {{ section.settings.text_color }};">
                  {{ text }}
                </p>
              </div>
            {% endif %}
          {% endfor %}
        </div>

        <!-- Se repite el contenido para efecto de loop continuo -->
        <div class="marquee-inner">
          {% for i in (1..6) %}
            {% assign image_key = 'icon_' | append: i | append: '_image' %}
            {% assign text_key = 'icon_' | append: i | append: '_text' %}
            {% assign image = section.settings[image_key] %}
            {% assign text = section.settings[text_key] %}

            {% if image != blank or text != blank %}
              <div class="d-flex align-items-center icon-block">
                {% if image != blank %}
                  <img src="{{ image | img_url: 'auto' }}" class="img-fluid icon-img me-2" alt="{{ text }}">
                {% endif %}
                <p class="icon-text" style="color: {{ section.settings.text_color }};">
                  {{ text }}
                </p>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>
    </div>

  </div>
</div>

{% style %}
  .t4s-section-inner {
      width: 100%;
      max-width: 100%;
  }

  .icon-block {
      display: flex;
      align-items: center;
      gap: 8px;
  }

  .icon-img {
      max-width: 30px;
      height: auto;
  }

  .icon-text {
      font-size: 16px;
      text-align: center;
      margin: 0;
      white-space: nowrap;
  }

  /* Animación solo en móviles y tabletas */
  @media (max-width: 1024px) {
      .marquee-desktop {
          display: none !important;
      }

      .marquee-mobile {
          display: flex;
          overflow: hidden;
          white-space: nowrap;
          position: relative;
          width: 100%;
      }

      .marquee-content {
          display: flex;
          gap: 30px;
          flex-wrap: nowrap;
          min-width: 200%;
      }

      .marquee-inner {
          display: flex;
          align-items: center;
          gap: 20px;
          animation: marquee-scroll 8s linear infinite;
      }

      @keyframes marquee-scroll {
          from {
              transform: translateX(0%);
          }
          to {
              transform: translateX(-100%);
          }
      }
  }

  /* Diseño en escritorio: los iconos son estáticos */
  @media (min-width: 1025px) {
      .marquee-desktop {
          display: flex;
          justify-content: center;
          gap: 20px;
      }
      .marquee-mobile {
          display: none;
      }
  }
{% endstyle %}
